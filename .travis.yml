env:
  global:
  - CC_TEST_REPORTER_ID=87b67e9610702652e76b79e0c0d65b9d5e940165fb7b1621efaff1c79eb45dcb
language: ruby
rvm:
- 2.5.0
before_script:
- curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64
  > ./cc-test-reporter
- chmod +x ./cc-test-reporter
- "./cc-test-reporter before-build"
script:
- bundle install --jobs=3 --retry=3
- bin/rails db:create
- bin/rails db:migrate
- bundle exec rspec
- bundle exec rubocop
after_script:
- "./cc-test-reporter after-build --exit-code $TRAVIS_TEST_RESULT"
deploy:
  provider: heroku
  api_key:
    secure: AUpubOKE/kZJHUSA6NMekkc4KGiavA+JKzAGr6gQ8BE8IxFavZG19rDUVfDQg0a9xUUcyRkvrmq+QuI8FQ6IuPNr/aIVDcpgpE11nCY7nN7a0UirRxmHPcLRnyOsZZrUKw55fBsdWUTR6Psde9DgDcHY+jbVUNqru94qRqhFo/LGr1x+YJbRSBhnZhxWyXr95hAMPoqcnaAQCCx5atJG4uWgH1HKPDODUmKIXGIBlBGRuevto9cTS2jvKgoTRZTiC561wmLWnbiLGn3SQ+nEvIvPaMbfKfriBv6nV3Ox10PGgw0QvDEF3hd94yMNDgcCXCzCvU5pW2NXeR3nIenw89LJ7kN/z9419EZaYm7B8JaEtj2DhSAaybbx0p/hUXGlYlXCC4fEjNdCZ3AvPvI/N3NpoSQl6SApXAVM91BGa3Xqr1Kxvk0xd3TnYU6ACLTs48cd1Hrfuar4QWUCmyx3D+oPmW3Sq1nqkQumIf88zjgRzpKcS6s7KQ8oA0/FikPmN2P09TTGnRLUyEznlkShffve8BZ6SrTa/HbngxmJ8GYyQdFaYS7YUjade58FSaj59mzt3TSqCFj5Uy4bvlu9wioyGTY+afzEOFPM2CWpbjmy7WZuc7CHQ/OxepxebZaavp6umeaxjhHmH5QzTEYDKXsLavJwurpRuRWTfNZoJDs=
  app: acebook-team-rocket
  on:
    repo: Sindex42/acebook-team-rocket
  run: "rake db:migrate"
